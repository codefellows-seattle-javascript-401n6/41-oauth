<!DOCTYPE html>
<html>

<head>
    <title>Cody's OAuth</title>
</head>

<body>
    <h1>OAuth app</h1>
    <div>
        <a id="authorize"></a>
    </div>
    <div>
        <a id="review"></a>
    </div>
    <div>
        <a id="sax"></a>
    </div>

    <script>
        let a = document.getElementById('authorize');
        let AUTH_URL = 'https://github.com/login/oauth/authorize';
        let urlParams = {
            client_id: '9a2a8830018d4a4199e9',
            redirect_uri: 'http://localhost:3000/oauth-callback',
            state: '' + Math.random(),
        };
        let formattedURL = AUTH_URL + '?';
        for (let key in urlParams) {
            formattedURL += '&' + key + '=' + urlParams[key];
        }
        a.setAttribute('href', formattedURL);
        a.textContent = 'login with GitHub';
        console.log('the URL we built:', formattedURL);
        let clientId = '9a2a8830018d4a4199e9';
        let reviewUrl = 'https://github.com/settings/connections/applications/' + clientId;
        let reviewLink = document.getElementById('review');
        reviewLink.setAttribute('href', reviewUrl);
        reviewLink.textContent = 'review permissions';

        let saxUrl = 'https://www.youtube.com/watch?v=GaoLU6zKaws'

        let saxLink = document.getElementById('sax');
        saxLink.setAttribute('href', saxUrl);
        saxLink.textContent = 'cant login? enjoy a video!';

    </script>
</body>

</html>